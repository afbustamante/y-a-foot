<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ace="http://www.icefaces.org/icefaces/components"
                template="../resources/facelets/general.xhtml">

    <ui:define name="content">
        <h:form>
            <h3><h:outputText value="#{messages['match.list.title']}"/></h3>

            <h:messages styleClass="messages" errorClass="error" infoClass="info" />

            <ace:tabSet id="matchsTabSet" clientSide="false">
                <ace:tabPane id="matchesToPlayTabSet" label="#{messages['match.list.to.play']}">
                    <ace:list value="#{matchListBean.matches}" var="match">
                        <h:panelGrid columns="2" styleClass="match_preview" >
                            <h:panelGrid columns="1">
                                <h:outputText value="#{match.date.time}">
                                    <f:convertDateTime dateStyle="full" timeStyle="short" type="both" />
                                </h:outputText>

                                <h:outputText value="#{match.site.nom}" />

                                <h:outputText value="#{match.numJoueursMin} #{messages['match.list.players.expected']}" />

                                <h:outputText value="#{match.inscriptions.inscription.size()} #{messages['match.list.players.actual']}" />
                            </h:panelGrid>
                            <h:panelGrid columns="1">
                                <ace:menuButton value="#{messages['button.more']}">
                                    <ace:menuItem id="btnMoreDetails" value="#{messages['match.list.detail']}" icon="ui-icon ui-icon-search"
                                                  action="/matches/match_search">
                                    </ace:menuItem>
                                    <ace:menuItem id="btnCancelMatch" value="#{messages['match.list.cancel']}" icon="ui-icon ui-icon-cancel"
                                                  action="/matches/match_search">
                                    </ace:menuItem>
                                    <ace:menuItem id="btnLeaveMatch" value="#{messages['match.list.leave']}" icon="ui-icon ui-icon-close"
                                                  action="/matches/match_search">
                                    </ace:menuItem>
                                </ace:menuButton>
                            </h:panelGrid>
                        </h:panelGrid>
                    </ace:list>
                </ace:tabPane>
            </ace:tabSet>
        </h:form>
    </ui:define>

</ui:composition>
