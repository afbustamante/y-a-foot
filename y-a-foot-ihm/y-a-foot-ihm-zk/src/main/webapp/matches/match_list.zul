<?page title="${c:l('application.title')}"?>
<?meta name="viewport" content="width=device-width, initial-scale=1.0"?>
<?meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1"?>
<?link rel="stylesheet" type="text/css" href="/css/layout.css"?>
<?link rel="stylesheet" type="text/css" href="/css/style.css"?>
<?taglib uri="http://www.zkoss.org/dsp/web/core" prefix="c" ?>
<window apply="org.zkoss.bind.BindComposer"
        viewModel="@id('vm') @init('net.andresbustamante.yafoot.web.model.RechercheMatchsJoueurViewModel')">
  <caption src="/images/logo.png" sclass="fn-caption" label="${c:l('application.title')}"/>
  <include src="/zul/top.zul"/>
  <div id="content">
    <vlayout>
      <label value="${c:l('match.list.title')}"/>
      <separator/>
      <tabbox>
        <tabs>
          <tab id="tabMatchesToPlay" label="${c:l('match.list.to.play')}"/>
          <tab id="tabMatchesPlayed" label="${c:l('match.list.played')}"/>
        </tabs>
        <tabpanels>
          <tabpanel id="tbpMatchesToPlay">
            <listbox id="lbxMatchesToPlay" model="@bind(vm.matchsAJouerListModel)">
              <listhead>
                <listheader label="${c:l('match.list.title.date')}" sort="auto" />
                <listheader label="${c:l('match.list.title.place')}" sort="auto" />
                <listheader label="${c:l('match.list.title.players')}" sort="auto" />
              </listhead>
              <template name="model">
                <listitem>
                  <listcell>
                    <label value="@load(each.texteDate)"/>
                  </listcell>
                  <listcell>
                    <label value="@load(each.site.nom)&#10;@load(each.site.adresse)" multiline="true" />
                  </listcell>
                  <listcell>
                    <label value="@load(each.texteJoueursActuels)&#10;@load(each.texteJoueursAttendus)" multiline="true" />
                  </listcell>
                </listitem>
              </template>
            </listbox>
          </tabpanel>
          <tabpanel id="tbpPlayedMatches">
            <listbox id="lbxPlayedMatches" model="@bind(vm.matchsJouesListModel)">
              <listhead>
                <listheader label="${c:l('match.list.title.date')}" sort="auto" />
                <listheader label="${c:l('match.list.title.place')}" sort="auto" />
                <listheader label="${c:l('match.list.title.players')}" sort="auto" />
              </listhead>
              <template name="model">
                <listitem>
                  <listcell>
                    <label value="@load(each.texteDate)"/>
                  </listcell>
                  <listcell>
                    <label value="@load(each.site.nom)&#10;@load(each.site.adresse)" multiline="true" />
                  </listcell>
                  <listcell>
                    <label value="@load(each.texteJoueursActuels)&#10;@load(each.texteJoueursAttendus)" multiline="true" />
                  </listcell>
                </listitem>
              </template>
            </listbox>
          </tabpanel>
        </tabpanels>
      </tabbox>
    </vlayout>
  </div>
</window>